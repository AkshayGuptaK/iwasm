<html>
    <body>
        <script src="https://cdn.jsdelivr.net/npm/@assemblyscript/loader/umd/index.js"></script>
        <script src="/js/loader.js" ></script>
        <script>
            const WL = new WasmLoader();
            WL.wasm('/wasm/optimized.wasm')
            .then(instanceExports => {
                const { writeMemory, readMemory, memory } = instanceExports;
                writeMemory();
                const memoryArray = new Uint8Array(memory.buffer);
                document.write(memoryArray[1]);
                document.write('<br/>');
                memoryArray[2] = 29;
                document.write(readMemory(2));
            })
        </script>
    </body>
</html>